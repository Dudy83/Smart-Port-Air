{% extends 'base.html.twig' %}

{% block body %}

<div class="form-container w-100 d-flex justify-content-center align-items-center" style="height:100vh;">

    <div class="form w-25 d-flex flex-column justify-content-center align-items-center" style="color:#fff;">
  
  {{ form_start(form, {'attr': {'class': 'w-100'}}) }}
  {{ form_row(form.username, {'label': 'Nom d\'utilisateur', 'attr': {'placeholder': 'Pseudo'}}) }}
  {{ form_row(form.email, {'label': 'Email', 'attr': {'placeholder': 'Email'}, 'type': 'email'}) }}
  {{ form_row(form.password, {'label': 'Mot de passe', 'attr': {'placeholder': 'Mot de passe'}}) }}
  {{ form_row(form.confirm_password, {'label': 'Confirmation du mot de passe', 'attr': {'placeholder': 'Répétez le mot de passe'}}) }}
  
  <div class="form-group d-flex align-items-center justify-content-between">
    <button id="submit-login" type="submit" class="btn btn-success mt-2"><i class="fas fa-edit mr-2"></i>Modifier</button>

    <a class="btn btn-danger m-0 mt-2" id="delete-account-button" data-toggle="modal" data-target="#delete-account"><i class="fas fa-trash-alt mr-2"></i>Supprimer mon compte</a>     
  </div>
  
  {{ form_end(form) }}

    <div>
</div>

<div style="z-index: 7000;" class="modal fade" id="delete-account" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header d-flex flex-column justify-content-center align-items-center">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <img src="images/logo/logo_transparent.png" width="256px" class="mb-4">
        
        <div class="modal-title alert alert-warning w-100" style="text-align:center;"><i class="fas fa-exclamation-triangle mr-2"></i>Vous êtes sur le point de supprimer votre compte SmartPort &copy;</div>

      </div>

      <div class="modal-footer d-flex flex-wrap justify-content-between align-items-center">
        <div class="modal-title alert alert-danger w-100" style="text-align:center;margin:0 0 1rem 0;">êtes vous sur de vouloir continuer ?</div>
        <button type="button" class="btn btn-warning" data-dismiss="modal" style="color:#fff;"><i class="fas fa-times-circle mr-2"></i>Fermer</button>
        <a href="{{ path('security_delete_user') }}" class="btn btn-danger"><i class="fas fa-trash-alt mr-2"></i>Supprimer</a>
      </div>
    </div>
  </div>
</div>

<style>
    body
    {
        background-image: linear-gradient(to bottom, #6bba62, #52ae6b, #3ea272, #2f9576, #2a8776, #248078, #247979, #287177, #266e7b, #296b7e, #306780, #386380);
    }

    label, .form-group
    {
        color: #fff;
    }

    label[for="form_username"]::before
    {
        font-family: "Font Awesome 5 Free";
        content: "\f007";
        margin-right: 0.5rem;
    }

    label[for="form_email"]::before
    {
        font-family: "Font Awesome 5 Free";
        content: "\f0e0";
        margin-right: 0.5rem;
    }
</style>

<script>
    divPassword = document.getElementsByClassName('form-group')[2];
    divConfirmPassword = document.getElementsByClassName('form-group')[3];
    var labelPassword = document.getElementsByClassName('required')[2];
    var labelConfirmPassword = document.getElementsByClassName('required')[3];
    var iPassword = document.createElement('i');
    var iConfirm = document.createElement('i');
    iPassword.setAttribute('class', 'fas fa-unlock-alt mr-2');
    iConfirm.setAttribute('class', 'fas fa-unlock-alt mr-2');

    divConfirmPassword.insertBefore(iConfirm, labelConfirmPassword);
        
    divPassword.insertBefore(iPassword, labelPassword);
</script>

{% endblock %}

